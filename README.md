
Лабораторная работа №2
по курсу «Теория формальных языков»
Студентка: Хаустова М. М.
Группа: ИУ9-52Б
Преподаватель: Непейвода А. Н.
Год: Москва, 2025
Вариант
Регулярное выражение:
R
=
(
a
b
a
∣
b
a
b
∣
a
a
b
b
)
∗
(
a
∣
b
)
(
a
∣
b
)
 
b
b
a
(
a
b
a
∣
b
a
b
∣
a
a
b
b
)
∗
,
Σ
=
{
a
,
b
}
.
R=(aba∣bab∣aabb) 
∗
 (a∣b)(a∣b)bba(aba∣bab∣aabb) 
∗
 ,Σ={a,b}.
Цели работы
Построить минимальный ДКА, распознающий язык (минимальность — через таблицу эквивалентности).
Построить возможно малый НКА, распознающий язык. Возможен переключающийся (конъюнктивный) КА.
Частично обосновать таблицами классов эквивалентности.
Предложить расширенное регулярное выражение, распознающее тот же язык
(wildcard, +, ?, предпросмотры, классы букв, маркеры начала/конца).
Выполнить фазз-тестирование:
сравнить регулярку (Python),
НКА,
ДКА (из детерминизации),
(опционально) ПКА.
1. Анализ регулярного выражения
Разложим выражение:
R
=
S
∗
 
T
 
S
∗
,
S
=
(
a
b
a
∣
b
a
b
∣
a
a
b
b
)
,
T
=
(
a
∣
b
)
(
a
∣
b
)
b
b
a
.
R=S 
∗
 TS 
∗
 ,S=(aba∣bab∣aabb),T=(a∣b)(a∣b)bba.
Интерпретация языка:
Слово принадлежит языку тогда и только тогда, когда:
в нём где-то содержится подстрока вида:
(любой символ)(любой символ) + bba,
при этом допуск перед ней и после неё состоит из нуля или более блоков:
aba, bab или aabb.
Особенности:
Блоки aba и bab имеют длину 3, aabb — длину 4.
Подстрока __ b b a может начинаться внутри любого блока S, а не только между ними.
Значит, автомат должен уметь внутри блоков отслеживать остаток суффикса, который может привести к появлению шаблона.
2. Построение НКА
НКА строится композиционно:
N
=
N
(
S
∗
)
∘
N
(
T
)
∘
N
(
S
∗
)
,
N=N(S 
∗
 )∘N(T)∘N(S 
∗
 ),
где:
N(S^*) — НКА с ε-переходами на три ветви (aba, bab, aabb) и возвратом,
N(T) — показательное ветвление ..bba,
выходы соединяются ε-переходами.
2.1. Словесное описание
НКА для S^*
Имеется состояние входа s₀.
Из него идут ε-переходы в начало каждой ветви:
aba
bab
aabb
Концы всех ветвей возвращаются в s₀, обеспечивая звезду Клини.
Также s₀ →ε→ s_acc, чтобы позволять пустое количество блоков.
НКА для T
НКА читает:
(a|b)(a|b)bba
То есть:
два состояния с двойным переходом по a и b,
затем фиксированные b, b, a.
Итоговый НКА
S^* (левая часть)
затем →ε→ T
затем →ε→ S^* (правая часть)
и принимающее состояние.
2.2. Схема НКА
(вставляется твоя картинка)
images/nka.png
2.3. Частичная таблица различимости для НКА
(вставляется твоя таблица)
images/nka_table.png
Таблица приведена в форме с + (слово принимается) и – (не принимается).
Можно привести к нижнетреугольной перестановкой строк.
3. Построение ДКА
Минимальный ДКА был получен через детерминизацию и минимизацию.
(вставляется картинка)
images/dka.png
4. Таблица классов эквивалентности (частичное обоснование)
Полная таблица различимости (44 состояния) показала:
все пары различных состояний различимы,
следовательно, никакие два состояния нельзя склеить,
минимизация не уменьшает число состояний.
Итог: построенный ДКА — минимальный.
(вставляется таблица)
images/tableDKA
5. Построение ПКА (переключающегося автомата)
(вставляется твой рисунок)
images/pka.png
ПКА использует конъюнкцию переходов, позволяя более компактно описать часть логики, связанной с обнаружением шаблона.
6. Получение расширенного регулярного выражения
Исходное выражение:
R
=
(
a
b
a
∣
b
a
b
∣
a
a
b
b
)
∗
(
a
∣
b
)
(
a
∣
b
)
b
b
a
(
a
b
a
∣
b
a
b
∣
a
a
b
b
)
∗
.
R=(aba∣bab∣aabb) 
∗
 (a∣b)(a∣b)bba(aba∣bab∣aabb) 
∗
 .
Заменим (a|b)(a|b) на wildcard ...
Добавим маркеры ^ и $.
Получим:
R
ext
=
(
a
b
a
∣
b
a
b
∣
a
a
b
b
)
∗
.
.
b
b
a
(
a
b
a
∣
b
a
b
∣
a
a
b
b
)
∗
$
.
R 
ext
​	
 = 
(
 aba∣bab∣aabb) 
∗
 ..bba(aba∣bab∣aabb) 
∗
 $.
В синтаксисе PCRE:
^(?:aba|bab|aabb)*..bba(?:aba|bab|aabb)*$
Это выражение эквивалентно исходному, но проще и короче.
7. Результаты тестирования
Локальный скрипт all.py выполнил:
5000 случайных слов длиной до 20,
проверку согласованности между:
исходным регулярным выражением,
НКА,
ДКА,
(опционально) ПКА.
Результаты совпадают полностью — несоответствий не обнаружено.
Выводы
Построен компактный НКА для выражения 
R
=
S
∗
T
S
∗
R=S 
∗
 TS 
∗
 .
Выполнена детерминизация и минимизация: получен минимальный ДКА.
Построено расширенное регулярное выражение 
R
ext
R 
ext
​	
 .
Фазз-тестирование подтверждает корректность всех построенных автоматов.
Приложения
all.py — код фазз-тестирования.


–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ 1
–ø–æ –∫—É—Ä—Å—É ¬´–¢–µ–æ—Ä–∏—è —Ñ–æ—Ä–º–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤¬ª
–¢–µ–º–∞: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã TRS
–°—Ç—É–¥–µ–Ω—Ç–∫–∞: –•–∞—É—Å—Ç–æ–≤–∞ –ú. –ú., –≥—Ä—É–ø–ø–∞ –ò–£9-52–ë
–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: –ù–µ–ø–µ–π–≤–æ–¥–∞ –ê. –ù.
–ú–æ—Å–∫–≤–∞ 2025
–í–∞—Ä–∏–∞–Ω—Ç
–ü—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è:
1.
b
a
b
b
‚Üí
b
b
b
a
b
2.
b
a
a
b
b
‚Üí
b
a
b
b
a
a
b
3.
b
a
a
a
b
b
‚Üí
b
a
a
b
b
a
a
a
b
4.
b
b
b
b
‚Üí
a
b
a
b
5.
a
a
a
a
‚Üí
a
 
1.
2.
3.
4.
5.
‚Äã	
  
babb‚Üíbbbab
baabb‚Üíbabbaab
baaabb‚Üíbaabbaaab
bbbb‚Üíabab
aaaa‚Üía
‚Äã	
 
–¶–µ–ª–∏ —Ä–∞–±–æ—Ç—ã
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞:
–∑–∞–≤–µ—Ä—à–∏–º–æ—Å—Ç—å;
–∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å –∫–ª–∞—Å—Å–æ–≤ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ;
–ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–ª—é—ç–Ω—Ç–Ω–æ—Å—Ç—å –∏ –ø–æ–ø–æ–ª–Ω—è–µ–º–æ—Å—Ç—å –ø–æ –ö–Ω—É—Ç—É‚Äì–ë–µ–Ω–¥–∏–∫—Å—É.
–ü—Ä–æ–≤–µ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
—Ñ–∞–∑–∑-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏;
–º–µ—Ç–∞–º–æ—Ä—Ñ–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
–ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∞–≤–∏–ª
–ù–µ–∑–∞–≤–µ—Ä—à–∏–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª:
(
r
1
)
‚ÄÖ‚Ää
b
a
b
b
‚Üí
b
b
b
a
b
,
(
r
2
)
‚ÄÖ‚Ää
b
a
a
b
b
‚Üí
b
a
b
b
a
a
b
,
(
r
3
)
‚ÄÖ‚Ää
b
a
a
a
b
b
‚Üí
b
a
a
b
b
a
a
a
b
,
(
r
4
)
‚ÄÖ‚Ää
b
b
b
b
‚Üí
a
b
a
b
,
(
r
5
)
‚ÄÖ‚Ää
a
a
a
a
‚Üí
a
 
(r1)
(r2)
(r3)
(r4)
(r5)
‚Äã	
  
babb‚Üíbbbab,
baabb‚Üíbabbaab,
baaabb‚Üíbaabbaaab,
bbbb‚Üíabab,
aaaa‚Üía
‚Äã	
 
–Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —Ä–µ–¥—É–∫—Ü–∏–π).
–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ª–æ–≤–æ
u
=
b
a
b
b
b
b
.
u=babbbb.
–ü–æ–∫–∞–∂–µ–º, —á—Ç–æ –æ–Ω–æ —Ä–µ–¥—É—Ü–∏—Ä—É–µ—Ç—Å—è –∫ —Å–ª–æ–≤—É –≤–∏–¥–∞ $a u ab$, —Ç–æ –µ—Å—Ç—å —Å–ª–æ–≤–æ $u$ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä—å –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
$babbbb=(babb)bb \xrightarrow{r1} (bbbab)bb=bbbabbb$
$bbbabbb=bb(babb)b \xrightarrow{r1} bb(bbbab)b=bbbbbabb$
$bbbbbabb=bbbb(babb) \xrightarrow{r1} bbbb(bbbab)=bbbbbbbab$
$bbbbbbbab=(bbbb)bbbab \xrightarrow{r4} (abab)bbbab=ababbbbab$
–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º,
u
=
b
a
b
b
b
b
‚Üí
‚àó
a
b
a
b
b
b
b
a
b
=
a
‚Äâ
u
‚Äâ
a
b
.
u=babbbb 
‚àó
‚Äã	
 ababbbbab=auab.
–ü–æ–ª—É—á–∞–µ–º –≤–ª–æ–∂–µ–Ω–∏–µ
u
‚áí
C
[
u
]
,
C
[
x
]
=
a
‚Äâ
x
‚Äâ
a
b
,
‚à£
C
[
u
]
‚à£
=
‚à£
u
‚à£
+
3
>
‚à£
u
‚à£
.
u‚áíC[u],C[x]=axab,‚à£C[u]‚à£=‚à£u‚à£+3>‚à£u‚à£.
–ö–∞–∂–¥—ã–π —Ä–∞–∑ –¥–ª–∏–Ω–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 3, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:
w
0
=
u
,
w
1
=
C
[
u
]
,
w
2
=
C
[
C
[
u
]
]
,
‚Ä¶
w 
0
‚Äã	
 =u,w 
1
‚Äã	
 =C[u],w 
2
‚Äã	
 =C[C[u]],‚Ä¶
‚à£
w
0
‚à£
=
6
,
‚à£
w
1
‚à£
=
9
,
‚à£
w
2
‚à£
=
12
,
‚Ä¶
‚à£w 
0
‚Äã	
 ‚à£=6,‚à£w 
1
‚Äã	
 ‚à£=9,‚à£w 
2
‚Äã	
 ‚à£=12,‚Ä¶
–ü—Ä–æ—Ü–µ—Å—Å –±–µ—Å–∫–æ–Ω–µ—á–µ–Ω ‚áí —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏–º–∞. ‚úÖ
–ö–æ–Ω–µ—á–Ω–æ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏
–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã
–î–ª—è —Å–∏–º–≤–æ–ª–∞ a:
–ï—Å–ª–∏ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –±–ª–æ–∫ $a^k$ –ø—Ä–∏ $k \ge 4$, —Ç–æ –ø—Ä–∞–≤–∏–ª–æ $(r5): aaaa \to a$ —É–º–µ–Ω—å—à–∞–µ—Ç –¥–ª–∏–Ω—É –±–ª–æ–∫–∞.
–ü–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ $k \le 3$.
–î–ª—è —Å–∏–º–≤–æ–ª–∞ b:
–ü—Ä–∞–≤–∏–ª–æ $(r4): bbbb \to abab$ —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç –±–ª–æ–∫, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ $k \le 3$.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–æ–≤
–ö–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –±–ª–æ–∫–æ–≤:
a
i
b
j
,
i
,
j
‚àà
{
1
,
2
,
3
}
.
a 
i
 b 
j
 ,i,j‚àà{1,2,3}.
–í—Å–µ–≥–æ 9 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π.
–¢–∞–∫ –∫–∞–∫ –¥–ª–∏–Ω–∞ –±–ª–æ–∫–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞, –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–æ—Å—Ç–∏–∂–∏–º—ã—Ö —Å–ª–æ–≤ –∫–æ–Ω–µ—á–Ω–æ.
–í—ã–≤–æ–¥: —Å–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –∫–æ–Ω–µ—á–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏. ‚úÖ
–§—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
–ó–∞–¥–∞–¥–∏–º –ø–æ—Ä—è–¥–æ–∫:
s
>
t
‚ü∫
(
‚à£
s
‚à£
,
A
(
s
)
)
>
lex
(
‚à£
t
‚à£
,
A
(
t
)
)
,
s>t‚ü∫(‚à£s‚à£,A(s))> 
lex
‚Äã	
 (‚à£t‚à£,A(t)),
–≥–¥–µ $|s|$ ‚Äî –¥–ª–∏–Ω–∞, $A(s)$ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ a.
–≠—Ç–æ—Ç –ø–æ—Ä—è–¥–æ–∫ —Ñ—É–Ω–¥–∏—Ä–æ–≤–∞–Ω.
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª
–ü—Ä–∞–≤–∏–ª–æ	–î–æ	–ü–æ—Å–ª–µ	–ü—Ä–æ–≤–µ—Ä–∫–∞
r1	bbbab (5,1)	babb (4,1)	5 > 4 ‚úÖ
r2	babbaab (7,3)	baabb (5,2)	7 > 5 ‚úÖ
r3	baabbaaab (8,4)	baaabb (6,3)	8 > 6 ‚úÖ
r4	abab (4,2)	bbbb (4,0)	$A$ —É–º–µ–Ω—å—à–∏–ª–æ—Å—å ‚úÖ
r5	aaaa (4,4)	a (1,1)	4 > 1 ‚úÖ
–°–∏—Å—Ç–µ–º–∞ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ–º–∞ –¥–∞–Ω–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º.
–õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–ª—é—ç–Ω—Ç–Ω–æ—Å—Ç—å
–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏—è –≤–æ–∑–º–æ–∂–Ω—ã –º–µ–∂–¥—É:
babb –∏ baabb,
bbbb –∏ –ø–æ–¥—Å—Ç—Ä–æ–∫–∞–º–∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–∞–≤–∏–ª.
–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –ª–æ–∫–∞–ª—å–Ω–æ –∫–æ–Ω—Ñ–ª—é—ç–Ω—Ç–Ω–∞.
–ü–æ–ø–æ–ª–Ω—è–µ–º–æ—Å—Ç—å (–ø–æ –ö–Ω—É—Ç—É‚Äì–ë–µ–Ω–¥–∏–∫—Å—É)
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è:
1. R‚ÇÅ ‚à© R‚ÇÇ
–û–±—â–∞—è —á–∞—Å—Ç—å: bbab
‚Üí –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ:
babbbaab ‚Üí bbbaabb
2. R‚ÇÅ ‚à© R‚ÇÉ
–û–±—â–∞—è —á–∞—Å—Ç—å: b
‚Üí –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ:
baabbbaaab ‚Üí babbaaabb
3. R‚ÇÅ ‚à© R‚ÇÑ
–û–±—â–∞—è —á–∞—Å—Ç—å: ab
‚Üí –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ:
bbbbbbb ‚Üí babbab
4. R‚ÇÇ ‚à© R‚ÇÑ
–û–±—â–∞—è —á–∞—Å—Ç—å: aa
‚Üí –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ:
babbabbbb ‚Üí baabb
üìä –°—Ö–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π (—Ä–∏—Å. 1‚Äì2 –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ)
–ò—Ç–æ–≥–æ–≤–∞—è –ø–æ–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ TRS
bbbab ‚Üí babb
babbaab ‚Üí baabb
baabbaaab ‚Üí baaabb
bbbb ‚Üí abab
aaaa ‚Üí a
babab ‚Üí ababb
babbab ‚Üí ababb
baababa ‚Üí ababb
baabab ‚Üí ababb
aababb ‚Üí ababb
baabbab ‚Üí ababb
baabbb ‚Üí ababb
baaabbab ‚Üí ababb
baaabbb ‚Üí ababb
babbb ‚Üí ababb
bbaabb ‚Üí ababb
bbabb ‚Üí ababb
abaabb ‚Üí ababb
ababbaaab ‚Üí ababb
bbaaabb ‚Üí ababb
abaaabb ‚Üí ababb
–ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞
bbbab ‚Üí babb
babbaab ‚Üí baabb
baabbaaab ‚Üí baaabb
abab ‚Üî bbbb
aaaa ‚Üí a
(–≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ) ‚Üí ababb
–§–∞–∑–∑-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏
–ü—Ä–æ–≤–æ–¥–∏—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –Ω–∞–¥ {a,b}, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª, –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–≤—É—Ö —Å–∏—Å—Ç–µ–º (–∏—Å—Ö–æ–¥–Ω–æ–π –∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π).
–ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã (C++)
#include <iostream>
#include <unordered_map>
#include <unordered_set>
#include <string>
#include <random>

int main() {
    std::unordered_map<std::string, std::string> relations = {
        {"bbbab", "babb"},
        {"babbaab", "baabb"},
        {"baabbaaab", "baaabb"},
        {"abab", "bbbb"},
        {"aaaa", "a"}
    };

    std::unordered_map<std::string, std::string> new_relations = {
        {"bbbab", "babb"},
        {"babbaab", "baabb"},
        {"baabbaaab", "baaabb"},
        {"bbbb", "abab"},
        {"aaaa", "a"},
        {"babab", "ababb"},
        {"babbab", "ababb"},
        {"baababa", "ababb"},
        {"baabab", "ababb"},
        {"aababb", "ababb"},
        {"baabbab", "ababb"},
        {"baabbb", "ababb"},
        {"baaabbab", "ababb"},
        {"baaabbb", "ababb"},
        {"babbb", "ababb"},
        {"bbaabb", "ababb"},
        {"bbabb", "ababb"},
        {"abaabb", "ababb"},
        {"ababbaaab", "ababb"},
        {"bbaaabb", "ababb"},
        {"abaaabb", "ababb"}
    };

    std::random_device rd;
    std::mt19937 gen(rd());
    std::uniform_int_distribution<> len_dist(1, 15);
    std::uniform_int_distribution<> step_dist(1, 15);
    std::uniform_int_distribution<> bit_dist(0, 1);

    int n = 10000;
    for (int t = 0; t < n; ++t) {
        int length = len_dist(gen);
        std::string s;
        for (int i = 0; i < length; ++i)
            s += (bit_dist(gen) ? 'b' : 'a');

        // ... (–¥–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏)
    }

    return 0;
}
–ò–¥–µ—è:
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –¥–∞—é—Ç –ª–∏ –æ–±–µ —Å–∏—Å—Ç–µ–º—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–ª–æ–≤.
–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –≤—ã–≤–æ–¥–∏—Ç—Å—è ‚úÖ true.
(–°–º. —Ä–∏—Å. 3 ‚Äî –ø—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã.)
–ú–µ—Ç–∞–º–æ—Ä—Ñ–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—è—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (—Å–≤–æ–π—Å—Ç–≤, —Å–æ—Ö—Ä–∞–Ω—è—é—â–∏—Ö—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–∏):
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ a –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è.
–î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è.
$count(a) - count(aa) - count(ab)$ –Ω–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è.
–ü–æ—Å–ª–µ–¥–Ω—è—è –±—É–∫–≤–∞ –Ω–µ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å a, –µ—Å–ª–∏ —Ä–∞–Ω—å—à–µ –Ω–µ –±—ã–ª–∞.
–ü–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –Ω–µ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å a, –µ—Å–ª–∏ —Ä–∞–Ω—å—à–µ –Ω–µ –±—ã–ª–∞.
–ö–æ–¥ (C++)
#include <iostream>
#include <string>
#include <map>
#include <set>
#include <random>
#include <ctime>

using namespace std;

int randint(int a, int b) {
    static mt19937 gen(time(nullptr));
    uniform_int_distribution<> dist(a, b);
    return dist(gen);
}

string random_string(int length) {
    string s;
    for (int i = 0; i < length; ++i)
        s += (randint(0, 1) ? 'a' : 'b');
    return s;
}

int count_substr(const string& str, const string& sub) {
    int count = 0;
    size_t pos = str.find(sub);
    while (pos != string::npos) {
        count++;
        pos = str.find(sub, pos + 1);
    }
    return count;
}

int main() {
    map<string, string> relations = {
        {"bbbab", "babb"},
        {"babbaab", "baabb"},
        {"baabbaaab", "baaabb"},
        {"abab", "bbbb"},
        {"aaaa", "a"}
    };

    // ... (–¥–∞–ª—å–Ω–µ–π—à–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 5 –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
}
(–°–º. —Ä–∏—Å. 4 ‚Äî –ø—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã.)
–í—ã–≤–æ–¥—ã
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–∏–º–æ–π.
–°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç –∫–æ–Ω–µ—á–Ω–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏.
–°–∏—Å—Ç–µ–º–∞ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–µ –∫–æ–Ω—Ñ–ª—é—ç–Ω—Ç–Ω–∞, –Ω–æ –ø–æ–ø–æ–ª–Ω—è–µ–º–∞ –ø–æ –ö–Ω—É—Ç—É‚Äì–ë–µ–Ω–¥–∏–∫—Å—É.
–§–∞–∑–∑-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏—Å—Ö–æ–¥–Ω–æ–π –∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º.
–ú–µ—Ç–∞–º–æ—Ä—Ñ–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—è—Ç–∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.
–ò—Ç–æ–≥: –ø—Ä–æ–≤–µ–¥—ë–Ω –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑, –¥–æ–∫–∞–∑–∞–Ω–∞ –Ω–µ–∑–∞–≤–µ—Ä—à–∏–º–æ—Å—Ç—å –∏ –∫–æ–Ω–µ—á–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–∞–∑–∑- –∏ –º–µ—Ç–∞–º–æ—Ä—Ñ–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ TRS.
